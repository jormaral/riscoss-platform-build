{
  "author": {
    "name": "Caleb James DeLisle"
  },
  "name": "xwiki-tools",
  "description": "Tools for building documents and packages suitable for import into XWiki.",
  "version": "0.6.8",
  "repository": {
    "url": "https://github.com/xwiki-contrib/xwiki-tools.git",
    "type": "git"
  },
  "main": "./index",
  "bin": {
    "xardump": "./bin/describedoc",
    "xargen": "./bin/xargen"
  },
  "licenses": [
    {
      "type": "AGPLv3.0+",
      "url": "http://www.gnu.org/licenses/agpl-3.0.txt"
    }
  ],
  "dependencies": {
    "buffered-writer": "~0.2.3",
    "archiver": "~0.4",
    "unzip2": "~0.2.5",
    "node-uuid": "~1.4.0",
    "xmhell": "~0.1.2",
    "node.extend": "~1.0.8",
    "mkdirp": "~0.3.5",
    "temp": "~0.5.0",
    "nthen": "~0.1.1"
  },
  "devDependencies": {
    "whiskey": "~0.6.13",
    "nthen": "~0.1.0"
  },
  "engines": {
    "node": "*"
  },
  "scripts": {
    "test": "node test/run.js"
  },
  "readme": "# XWiki Tools\n\nExample:\n\nDump xar from running subwiki (named wiki1):\n\n```\nuser@toshitba:~/Desktop/test$ rm ./* -rf\nuser@toshitba:~/Desktop/test$ xardump Admin:admin@blk1:8080/xwiki/wiki/wiki1/export/Main/WebHome\nquery: Admin:admin@blk1:8080//xwiki/wiki/wiki1/export/Main/WebHome?name=x&pages=Main.WebHome\nSTATUS: 200\nHEADERS: {\"server\":\"Apache-Coyote/1.1\",\"set-cookie\":[\"JSESSIONID=B630723680EB9BA8CEF6CACD9E41E196; Path=/xwiki/; HttpOnly\"],\"content-disposition\":\"attachment; filename=x.xar\",\"content-type\":\"application/zip;charset=ISO-8859-1\",\"content-language\":\"en\",\"transfer-encoding\":\"chunked\",\"date\":\"Tue, 31 Mar 2015 14:16:59 GMT\"}\nwriteDir: /home/user/Desktop/test/src\nwriteDir: /home/user/Desktop/test/src/xwiki\nwriteDir: /home/user/Desktop/test/src/xwiki/Main\nwriteDir: /home/user/Desktop/test/src/xwiki/Main/WebHome\nwriteDir: /home/user/Desktop/test/src/xwiki/Main/WebHome/objects\nwriteDir: /home/user/Desktop/test/src/xwiki/Main/WebHome/objects/XWiki.EditModeClass_1\nwriteFile: /home/user/Desktop/test/src/xwiki/Main/WebHome/objects/XWiki.EditModeClass_1/this.js\nwriteDir: /home/user/Desktop/test/src/xwiki/Main/WebHome/attachments\nwriteFile: /home/user/Desktop/test/src/xwiki/Main/WebHome/attachments/xwiki-logo.png\nwriteFile: /home/user/Desktop/test/src/xwiki/Main/WebHome/this.js\nwriteFile: /home/user/Desktop/test/src/xwiki/Main/WebHome/content.xwiki20\nwriteDir: /home/user/Desktop/test/src/classes\nwriteFile: /home/user/Desktop/test/src/classes/XWiki.EditModeClass.js\ndone\nuser@toshitba:~/Desktop/test$ \n```\n\nEdit content:\n\n```\nuser@toshitba:~/Desktop/test$ echo 'HAI MOM' >> ./src/xwiki/Main/WebHome/content.xwiki20\n```\n\nRe-Package:\n\n```\nuser@toshitba:~/Desktop/test$ xargen\nran ./src//classes//XWiki.EditModeClass.js\nran ./src/xwiki/this.js\nran ./src//xwiki/Main/WebHome/this.js\nattachment ./src//xwiki/Main/WebHome/attachments/xwiki-logo.png\nobj ./src//xwiki/Main/WebHome/objects/XWiki.EditModeClass_1\nran ./src//xwiki/Main/WebHome/objects/XWiki.EditModeClass_1/this.js\n/tmp/xwiki-tools-genxar115231-14509-1j2gifu/package.xml Generating\npackage.xml Compressing\npackage.xml Complete\n/tmp/xwiki-tools-genxar115231-14509-1j2gifu/Main/WebHome.xml Generating\nMain/WebHome.xml Compressing\nMain/WebHome.xml Complete\nuser@toshitba:~/Desktop/test$ ls\ni-forgot-to-edit-src-slash-xwiki-slash-this-dot-js.xar  src\nuser@toshitba:~/Desktop/test$ \n```\n\nPackage and auto-post to subwiki (called wiki1):\n\n```\nuser@toshitba:~/Desktop/test$ xargen --post Admin:admin@blk1:8080/xwiki/rest/wikis/wiki1\nran ./src//classes//XWiki.EditModeClass.js\nran ./src/xwiki/this.js\nran ./src//xwiki/Main/WebHome/this.js\nattachment ./src//xwiki/Main/WebHome/attachments/xwiki-logo.png\nobj ./src//xwiki/Main/WebHome/objects/XWiki.EditModeClass_1\nran ./src//xwiki/Main/WebHome/objects/XWiki.EditModeClass_1/this.js\n/tmp/xwiki-tools-genxar115231-15382-1xl6muj/package.xml Generating\npackage.xml Compressing\npackage.xml Complete\n/tmp/xwiki-tools-genxar115231-15382-1xl6muj/Main/WebHome.xml Generating\nMain/WebHome.xml Compressing\nMain/WebHome.xml Complete\nPosting to [blk1]:8080/xwiki/rest/wikis/wiki1?backup=true&history=RESET\nSTATUS: 200\nHEADERS: {\"set-cookie\":[\"JSESSIONID=444CF64309319D262CCC7E8090F0DF52; Path=/xwiki/; HttpOnly\"],\"date\":\"Tue, 31 Mar 2015 14:21:00 GMT\",\"accept-ranges\":\"bytes\",\"server\":\"Restlet-Framework/2.0.14\",\"xwiki-user\":\"XWiki.XWikiGuest\",\"xwiki-version\":\"6.0-SNAPSHOT\",\"content-type\":\"application/xml;charset=UTF-8\",\"content-language\":\"en\",\"transfer-encoding\":\"chunked\"}\nBODY: <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><wiki xmlns=\"http://www.xwiki.org\"><link href=\"http://blk1:8080/xwiki/rest/wikis/wiki1/spaces\" rel=\"http://www.xwiki.org/rel/spaces\"/><link href=\"http://blk1:8080/xwiki/rest/wikis/wiki1/classes\" rel=\"http://www.xwiki.org/rel/classes\"/><link href=\"http://blk1:8080/xwiki/rest/wikis/wiki1/modifications\" rel=\"http://www.xwiki.org/rel/modifications\"/><link href=\"http://blk1:8080/xwiki/rest/wikis/wiki1/search\" rel=\"http://www.xwiki.org/rel/search\"/><link href=\"http://blk1:8080/xwiki/rest/wikis/wiki1/query\" rel=\"http://www.xwiki.org/rel/query\"/><id>wiki1</id><name>wiki1</name></wiki>\nuser@toshitba:~/Desktop/test$\n```\n",
  "readmeFilename": "README.md",
  "gitHead": "86d7ee0c07af3199b77f965a0c81c02914339b30",
  "bugs": {
    "url": "https://github.com/xwiki-contrib/xwiki-tools/issues"
  },
  "homepage": "https://github.com/xwiki-contrib/xwiki-tools",
  "_id": "xwiki-tools@0.6.8",
  "_shasum": "df6fcf632f7a701a02240e8386916906289689ca",
  "_from": "xwiki-tools@>=0.6.8 <0.7.0"
}
